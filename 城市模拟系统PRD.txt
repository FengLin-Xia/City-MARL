åŸå¸‚æ¨¡æ‹Ÿç³»ç»Ÿäº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

æ–‡æ¡£ä¿¡æ¯
- é¡¹ç›®åç§°ï¼šåœ°ä»·é©±åŠ¨çš„å¤šæ™ºèƒ½ä½“åŸå¸‚æ¨¡æ‹Ÿç³»ç»Ÿ
- ç‰ˆæœ¬ï¼šv2.0
- åˆ›å»ºæ—¥æœŸï¼š2024å¹´
- æ–‡æ¡£çŠ¶æ€ï¼šè®¾è®¡é˜¶æ®µ

äº§å“æ¦‚è¿°

äº§å“å®šä½
åœ¨ç°æœ‰åŸå¸‚æ¨¡æ‹Ÿç³»ç»ŸåŸºç¡€ä¸Šï¼Œé›†æˆåœ°ä»·é©±åŠ¨æœºåˆ¶ï¼Œé€šè¿‡æ”¿åºœã€ä¼ä¸šã€å±…æ°‘ä¸‰ç±»æ™ºèƒ½ä½“çš„äº¤äº’ï¼Œæ¨¡æ‹ŸçœŸå®åŸå¸‚çš„æ¼”åŒ–è¿‡ç¨‹ã€‚

æ ¸å¿ƒä»·å€¼
- ä¿æŒç°æœ‰ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§
- æ·»åŠ åœ°ä»·é©±åŠ¨çš„åŸå¸‚å‘å±•é€»è¾‘
- æä¾›ä¸°å¯Œçš„å¯è§†åŒ–è¾“å‡ºå’Œæ•°æ®åˆ†æ
- æ”¯æŒåŸå¸‚è§„åˆ’å’Œæ”¿ç­–ç ”ç©¶

ç³»ç»Ÿæ¶æ„

æ•´ä½“æ¶æ„å›¾
åŸå¸‚æ¨¡æ‹Ÿç³»ç»Ÿ v2.0
â”œâ”€â”€ æ ¸å¿ƒå¼•æ“
â”‚   â”œâ”€â”€ åœ°ä»·ç³»ç»Ÿ (Land Price System)
â”‚   â”œâ”€â”€ æ™ºèƒ½ä½“ç³»ç»Ÿ (Agent System)
â”‚   â”œâ”€â”€ å»ºç­‘ç³»ç»Ÿ (Building System)
â”‚   â””â”€â”€ å±…æ°‘ç³»ç»Ÿ (Resident System)
â”œâ”€â”€ æ•°æ®ç®¡ç†
â”‚   â”œâ”€â”€ è¾“å…¥æ•°æ® (JSONé…ç½®æ–‡ä»¶)
â”‚   â”œâ”€â”€ è¿è¡Œæ—¶æ•°æ® (å†…å­˜çŠ¶æ€)
â”‚   â””â”€â”€ è¾“å‡ºæ•°æ® (JSON + å›¾ç‰‡)
â”œâ”€â”€ å¯è§†åŒ–ç³»ç»Ÿ
â”‚   â”œâ”€â”€ å®æ—¶æ¸²æŸ“
â”‚   â”œâ”€â”€ å›¾ç‰‡è¾“å‡º
â”‚   â””â”€â”€ åŠ¨ç”»ç”Ÿæˆ
â””â”€â”€ ç»Ÿè®¡åˆ†æ
    â”œâ”€â”€ å®æ—¶ç»Ÿè®¡
    â”œâ”€â”€ å†å²æ•°æ®
    â””â”€â”€ æŠ¥å‘Šç”Ÿæˆ

æ•°æ®æ¨¡å‹è®¾è®¡

è¾“å…¥é…ç½®æ–‡ä»¶

1. åŸå¸‚é…ç½® (city_config.json)
{
  "city_name": "ç¤ºä¾‹åŸå¸‚",
  "map_size": [256, 256],
  "core_point": [128, 128],
  "trunk_road": [[40, 128], [216, 128]],
  "initial_land_price": 100,
  "simulation_days": 365,
  "monthly_growth_rate": 0.05,
  "initial_population": 100
}

2. å»ºç­‘é…ç½® (building_config.json)
{
  "building_types": {
    "public": {
      "capacity": 500,
      "cost": 1000,
      "service_radius": 50,
      "color": "#22A6B3",
      "symbol": "ğŸ›ï¸"
    },
    "residential": {
      "capacity": 200,
      "cost": 500,
      "revenue_per_person": 10,
      "color": "#F6C344",
      "symbol": "ğŸ "
    },
    "commercial": {
      "capacity": 800,
      "cost": 1000,
      "revenue_per_person": 20,
      "color": "#FD7E14",
      "symbol": "ğŸª"
    }
  },
  "land_price_factors": {
    "core_distance_weight": 0.5,
    "transport_weight": 0.3,
    "facility_weight": 0.2,
    "decay_rate": 0.01
  }
}

3. æ™ºèƒ½ä½“é…ç½® (agent_config.json)
{
  "government_agent": {
    "decision_frequency": 30,
    "budget_limit": 10000,
    "public_facility_threshold": 0.8
  },
  "business_agent": {
    "profit_threshold": 0.6,
    "consecutive_days": 2,
    "expansion_probability": 0.3
  },
  "resident_agent": {
    "movement_speed": 4,
    "preference_weight": {
      "cost": 0.4,
      "convenience": 0.3,
      "quality": 0.3
    }
  }
}

è¾“å‡ºæ•°æ®æ–‡ä»¶

1. åŸå¸‚çŠ¶æ€è¾“å‡º (city_state_output.json)
{
  "simulation_info": {
    "day": 365,
    "total_residents": 353,
    "total_buildings": 15,
    "average_land_price": 125.5
  },
  "land_prices": {
    "matrix": [[100, 105, ...], [102, 108, ...], ...],
    "min_price": 100,
    "max_price": 200,
    "price_distribution": {...}
  },
  "buildings": {
    "public": [
      {
        "id": "pub_1",
        "type": "public",
        "xy": [128, 128],
        "capacity": 500,
        "current_usage": 300,
        "land_price": 150,
        "construction_cost": 1000,
        "revenue": 0
      }
    ],
    "residential": [...],
    "commercial": [...]
  },
  "residents": [
    {
      "id": "agent_1",
      "pos": [128, 128],
      "home": "res_1",
      "workplace": "com_1",
      "income": 5000,
      "housing_cost": 2000,
      "transport_cost": 500
    }
  ],
  "statistics": {
    "population_growth": [...],
    "land_price_evolution": [...],
    "building_distribution": {...},
    "economic_indicators": {...}
  }
}

2. å¯è§†åŒ–é…ç½®è¾“å‡º (visualization_config.json)
{
  "color_scheme": {
    "background": "#FFFFFF",
    "trunk_road": "#9AA4B2",
    "core_point": "#0B5ED7",
    "heat_map": "#FF00FF",
    "buildings": {
      "public": "#22A6B3",
      "residential": "#F6C344",
      "commercial": "#FD7E14"
    },
    "residents": "#FFFFFF"
  },
  "symbols": {
    "public": "ğŸ›ï¸",
    "residential": "ğŸ ",
    "commercial": "ğŸª",
    "core_point": "â­",
    "trunk_road": "ğŸ›£ï¸"
  },
  "rendering_settings": {
    "image_size": [800, 600],
    "dpi": 300,
    "frame_rate": 5,
    "heat_map_alpha": 0.6
  }
}

3. åæ ‡ä¿¡æ¯è¾“å‡º (coordinates_output.json)
{
  "day": 365,
  "core_point": {
    "xy": [128, 128],
    "type": "government_core",
    "description": "åŸå¸‚æ ¸å¿ƒç‚¹"
  },
  "trunk_road": {
    "points": [[40, 128], [216, 128]],
    "type": "main_road",
    "description": "ä¸»å¹²é“"
  },
  "buildings": {
    "public": [
      {
        "id": "pub_1",
        "xy": [128, 128],
        "type": "public",
        "description": "å…¬å…±å»ºç­‘1"
      }
    ],
    "residential": [
      {
        "id": "res_1",
        "xy": [80, 100],
        "type": "residential",
        "description": "ä½å®…å»ºç­‘1"
      }
    ],
    "commercial": [
      {
        "id": "com_1",
        "xy": [128, 128],
        "type": "commercial",
        "description": "å•†ä¸šå»ºç­‘1"
      }
    ]
  },
  "residents": [
    {
      "id": "agent_1",
      "xy": [128, 128],
      "type": "resident",
      "description": "å±…æ°‘1"
    }
  ],
  "land_price_zones": [
    {
      "zone_id": "high_value",
      "boundary": [[120, 120], [136, 136]],
      "average_price": 180,
      "description": "é«˜ä»·å€¼åŒºåŸŸ"
    }
  ]
}

åŠŸèƒ½æ¨¡å—è®¾è®¡

1. åœ°ä»·ç³»ç»Ÿæ¨¡å—
- åŠŸèƒ½ï¼šè®¡ç®—å’Œæ›´æ–°åŸå¸‚åœ°ä»·åˆ†å¸ƒ
- è¾“å…¥ï¼šåŸå¸‚çŠ¶æ€ã€å»ºç­‘åˆ†å¸ƒã€å±…æ°‘åˆ†å¸ƒ
- è¾“å‡ºï¼šåœ°ä»·çŸ©é˜µã€åœ°ä»·ç»Ÿè®¡
- ç®—æ³•ï¼šåŸºäºè·ç¦»è¡°å‡çš„åœ°ä»·è®¡ç®—æ¨¡å‹

2. æ™ºèƒ½ä½“å†³ç­–æ¨¡å—
- æ”¿åºœæ™ºèƒ½ä½“ï¼šå…¬å…±å»ºç­‘å»ºè®¾å†³ç­–
- ä¼ä¸šæ™ºèƒ½ä½“ï¼šä½å®…/å•†ä¸šå»ºç­‘å»ºè®¾å†³ç­–
- å±…æ°‘æ™ºèƒ½ä½“ï¼šå±…ä½ã€å·¥ä½œã€æ¶ˆè´¹é€‰æ‹©

3. å»ºç­‘ç®¡ç†æ¨¡å—
- åŠŸèƒ½ï¼šå»ºç­‘åˆ›å»ºã€æ›´æ–°ã€æ‹†é™¤
- ç±»å‹ï¼šå…¬å…±ã€ä½å®…ã€å•†ä¸š
- å±æ€§ï¼šä½ç½®ã€å®¹é‡ã€æˆæœ¬ã€æ”¶ç›Š

4. å¯è§†åŒ–æ¨¡å—
- åŠŸèƒ½ï¼šåŸå¸‚åœ°å›¾æ¸²æŸ“ã€å›¾ç‰‡è¾“å‡º
- è¾“å‡ºï¼šPNGå›¾ç‰‡ã€åŠ¨ç”»GIF
- é…ç½®ï¼šé¢œè‰²æ–¹æ¡ˆã€ç¬¦å·ã€æ¸²æŸ“è®¾ç½®

5. ç»Ÿè®¡åˆ†ææ¨¡å—
- åŠŸèƒ½ï¼šæ•°æ®æ”¶é›†ã€ç»Ÿè®¡è®¡ç®—ã€æŠ¥å‘Šç”Ÿæˆ
- æŒ‡æ ‡ï¼šäººå£ã€åœ°ä»·ã€å»ºç­‘ã€ç»æµæŒ‡æ ‡
- è¾“å‡ºï¼šJSONæŠ¥å‘Šã€å›¾è¡¨æ•°æ®

è¾“å‡ºæ–‡ä»¶è§„èŒƒ

æ–‡ä»¶å‘½åè§„åˆ™
è¾“å‡ºç›®å½•/
â”œâ”€â”€ city_state_output.json          # åŸå¸‚çŠ¶æ€æ•°æ®
â”œâ”€â”€ visualization_config.json       # å¯è§†åŒ–é…ç½®
â”œâ”€â”€ coordinates_output.json         # åæ ‡ä¿¡æ¯
â”œâ”€â”€ daily_stats.json               # æ¯æ—¥ç»Ÿè®¡
â”œâ”€â”€ land_price_evolution.json      # åœ°ä»·æ¼”åŒ–
â”œâ”€â”€ building_distribution.json     # å»ºç­‘åˆ†å¸ƒ
â”œâ”€â”€ images/                        # å›¾ç‰‡è¾“å‡º
â”‚   â”œâ”€â”€ day_000.png
â”‚   â”œâ”€â”€ day_005.png
â”‚   â””â”€â”€ ...
â””â”€â”€ animations/                    # åŠ¨ç”»è¾“å‡º
    â”œâ”€â”€ city_evolution.gif
    â””â”€â”€ land_price_animation.gif

æ•°æ®æ ¼å¼æ ‡å‡†
- JSONæ ¼å¼ï¼šUTF-8ç¼–ç ï¼Œ2ç©ºæ ¼ç¼©è¿›
- åæ ‡ç³»ç»Ÿï¼š256x256ç½‘æ ¼ï¼ŒåŸç‚¹å·¦ä¸Šè§’
- é¢œè‰²æ ¼å¼ï¼šåå…­è¿›åˆ¶RGB (#RRGGBB)
- æ—¶é—´æ ¼å¼ï¼šå¤©æ•°ï¼ˆ0-365ï¼‰

éªŒæ”¶æ ‡å‡†

åŠŸèƒ½éªŒæ”¶
- [ ] åœ°ä»·ç³»ç»Ÿæ­£ç¡®è®¡ç®—å’Œæ›´æ–°
- [ ] æ™ºèƒ½ä½“å†³ç­–é€»è¾‘æ­£ç¡®æ‰§è¡Œ
- [ ] å»ºç­‘ç³»ç»Ÿæ­£å¸¸åˆ›å»ºå’Œç®¡ç†
- [ ] å¯è§†åŒ–è¾“å‡ºç¬¦åˆé¢„æœŸ
- [ ] æ•°æ®è¾“å‡ºæ ¼å¼æ­£ç¡®

æ€§èƒ½éªŒæ”¶
- [ ] 365å¤©æ¨¡æ‹Ÿè¿è¡Œæ—¶é—´ < 5åˆ†é’Ÿ
- [ ] å†…å­˜ä½¿ç”¨ < 2GB
- [ ] å›¾ç‰‡è¾“å‡ºè´¨é‡ç¬¦åˆè¦æ±‚
- [ ] JSONæ–‡ä»¶å¤§å°åˆç†

è´¨é‡éªŒæ”¶
- [ ] ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ¨¡å—åŒ–è®¾è®¡
- [ ] é…ç½®æ–‡ä»¶æ ¼å¼è§„èŒƒ
- [ ] è¾“å‡ºæ•°æ®å®Œæ•´å‡†ç¡®
- [ ] æ–‡æ¡£é½å…¨

å¼€å‘è®¡åˆ’

é˜¶æ®µ1ï¼šåŸºç¡€æ¡†æ¶ (1å‘¨)
- è®¾è®¡æ•°æ®ç»“æ„å’Œæ¥å£
- åˆ›å»ºé…ç½®æ–‡ä»¶æ¨¡æ¿
- æ­å»ºåŸºç¡€æ¡†æ¶

é˜¶æ®µ2ï¼šæ ¸å¿ƒåŠŸèƒ½ (2å‘¨)
- å®ç°åœ°ä»·ç³»ç»Ÿ
- å®ç°æ™ºèƒ½ä½“å†³ç­–é€»è¾‘
- å®ç°å»ºç­‘ç®¡ç†ç³»ç»Ÿ

é˜¶æ®µ3ï¼šè¾“å‡ºç³»ç»Ÿ (1å‘¨)
- å®ç°JSONè¾“å‡ºåŠŸèƒ½
- å®ç°åæ ‡ä¿¡æ¯è¾“å‡º
- å®ç°å¯è§†åŒ–é…ç½®è¾“å‡º

é˜¶æ®µ4ï¼šæµ‹è¯•ä¼˜åŒ– (1å‘¨)
- åŠŸèƒ½æµ‹è¯•å’Œè°ƒè¯•
- æ€§èƒ½ä¼˜åŒ–
- æ–‡æ¡£å®Œå–„

æŠ€æœ¯å®ç°è¦ç‚¹

å…³é”®æŠ€æœ¯
- Python 3.8+
- NumPy (æ•°å€¼è®¡ç®—)
- Matplotlib (å¯è§†åŒ–)
- JSON (æ•°æ®äº¤æ¢)
- Pathlib (æ–‡ä»¶ç®¡ç†)

è®¾è®¡åŸåˆ™
- æ¨¡å—åŒ–è®¾è®¡
- é…ç½®é©±åŠ¨
- æ•°æ®åˆ†ç¦»
- å‘åå…¼å®¹
- å¯æ‰©å±•æ€§
